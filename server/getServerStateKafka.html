<!DOCTYPE html>
<meta charset="utf-8" />
<title>Socket.io</title>
<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
<script src="/socket.io/socket.io.js"></script>
<body>
<h1>Communicating with socket.io via kafka!</h1>
<textarea id="request" name="queries">req string</textarea>
<input type="button" id="send" value="send req to server" /><br />
<hr/>
messages:
<ul id="messages"></ul>
<hr/>
changes:
<ul id="messagesChange"></ul>

<script>  // file: getServerStateKafka.html
const socket = io.connect('http://localhost:8060');
const collectData = [];
$('#send').click((ev)=> socket.emit('getFullKafkaState',$('#request').val()) );
socket.on('replyFullState'  ,(msg)=>{ 
   $('#messages').html(msg.length);  
   collectData.push(msg.len); 
});
socket.on('replyChangeState',(msg)=>{ $('#messagesChange').append(msg); });
socket.on('to_text'         ,(msg)=>{ $('#messages').append(msg); });  // ????
</script>
</body>
</html>

